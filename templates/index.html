<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Control Lab IO Remote, v1.0.0, January 28, 2024. App created by Diego Baca © 2024. www.controllab.io -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">

    <!-- Core CSS Files -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="/static/css/styles.css">

    <!--Icons-->
    <link rel="icon" type="image/png" sizes="32x32" href="/static/assets/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/assets/favicon-16x16.png">

    <title>Control Lab IO</title>
    
    <!-- Material Icons (Materialize) -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Material Symbols Outlined -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    
    <!-- Fallback for users with JavaScript disabled -->
    <noscript>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
        <link rel="stylesheet" href="/static/css/styles.css">
    </noscript>
    
</head>

<body>
    <div class="container">
        <!-- Custom container for Title with Image -->
        <div class="title-container">
            <img src="/static/assets/logo.png" alt="Logo" class="logo-image">
            <h5 class="title-text">Control Lab IO</h5>
        </div>

        <!-- Custom container for Connection, Sending, Save, and Load Buttons -->
        <div class="connection-container">
            <!-- Connection Button (Left aligned) -->
            <button id="connection-btn" onclick="sendCommand('/toggle_connection', 0)"
                class="btn-floating btn-large black">
                <i class="material-icons" id="connection-icon">link</i> <!-- Default icon -->
            </button>
            <!-- Sending Button (Centered) -->
            <div class="flex-grow">
                <button id="sending-btn" onclick="toggleSending()" class="btn-floating btn-large black">
                    <i class="material-icons" id="sending-icon">pause</i> <!-- Default icon -->
                </button>
            </div>
            <!-- Save and Load Buttons (Right aligned) -->
            <div>
                <button id="save-btn" onclick="saveOutputValues()" class="btn-floating btn-large black">
                    <i class="material-icons">save</i> <!-- Save icon -->
                </button>
                <button id="load-btn" onclick="loadOutputValues()" class="btn-floating btn-large black">
                    <i class="material-icons">folder</i> <!-- Folder icon -->
                </button>
            </div>
        </div>

        <!-- Wrapper for output containers -->
        <div class="outputs-row">
            <!-- Column 1 for outputs 1-4 -->
            <div class="column">
                {% for output_id in range(1, 5) %}
                <div class="output-container">
                    <div class="row">
                        <!-- Output Label as a single letter (small column) -->
                        <div class="col s1">
                            <h5 class="output-label">{{ ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'][output_id - 1] }}</h5>
                        </div>
                        <!-- Buttons (larger column) -->
                        <div class="col s11">
                            <button id="on-off-{{ output_id }}"
                                onclick="sendCommand('/toggle_on/{{ output_id }}', {{ output_id }})"
                                class="btn-floating btn-large on-off-btn">Off</button>
                            <button id="direction-{{ output_id }}"
                                onclick="sendCommand('/toggle_dir/{{ output_id }}', {{ output_id }})"
                                class="btn-floating btn-large black">
                                <i class="material-icons" id="direction-icon-{{ output_id }}">rotate_right</i>
                                <!-- Default icon -->
                            </button>
                            <button id="decrease-{{ output_id }}"
                                onclick="sendCommand('/decrease_power/{{ output_id }}', {{ output_id }})"
                                class="btn-floating btn-large black">
                                <i class="material-icons">remove_circle</i>
                            </button>
                            <span id="power-level-{{ output_id }}" class="power-level-display">
                                <span class="material-symbols-outlined">counter_4</span>
                            </span>
                            <button id="increase-{{ output_id }}"
                                onclick="sendCommand('/increase_power/{{ output_id }}', {{ output_id }})"
                                class="btn-floating btn-large black">
                                <i class="material-icons">add_circle</i>
                            </button>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>

            <!-- Column 2 for outputs 5-8 -->
            <div class="column">
                {% for output_id in range(5, 9) %}
                <div class="output-container">
                    <div class="row">
                        <!-- Output Label as a single letter (small column) -->
                        <div class="col s1">
                            <h5 class="output-label">{{ ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H'][output_id - 1] }}</h5>
                        </div>
                        <!-- Buttons (larger column) -->
                        <div class="col s11">
                            <button id="on-off-{{ output_id }}"
                                onclick="sendCommand('/toggle_on/{{ output_id }}', {{ output_id }})"
                                class="btn-floating btn-large on-off-btn">Off</button>
                            <button id="direction-{{ output_id }}"
                                onclick="sendCommand('/toggle_dir/{{ output_id }}', {{ output_id }})"
                                class="btn-floating btn-large black">
                                <i class="material-icons" id="direction-icon-{{ output_id }}">rotate_right</i>
                                <!-- Default icon -->
                            </button>
                            <button id="decrease-{{ output_id }}"
                                onclick="sendCommand('/decrease_power/{{ output_id }}', {{ output_id }})"
                                class="btn-floating btn-large black">
                                <i class="material-icons">remove_circle</i>
                            </button>
                            <span id="power-level-{{ output_id }}" class="power-level-display">
                                <span class="material-symbols-outlined">counter_4</span>
                            </span>
                            <button id="increase-{{ output_id }}"
                                onclick="sendCommand('/increase_power/{{ output_id }}', {{ output_id }})"
                                class="btn-floating btn-large black">
                                <i class="material-icons">add_circle</i>
                            </button>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Custom container for Footer -->
        <div class="footer-container">
            <small>Control Lab IO © 2024</small>
        </div>
    </div>

    <!-- Materialize JavaScript, deferred to not block HTML parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js" defer></script>
    <!-- Local JavaScript File, deferred to not block HTML parsing -->
    <script src="/static/js/scripts.js" defer></script>
</body>

</html>
